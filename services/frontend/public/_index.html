<!doctype html>
<html lang="en" class="scroll-smooth antialiased">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/public/styles.css" rel="stylesheet" />
    <script defer type="module" src="/public/persistent/router.js"></script>
    <script defer type="module" src="/public/persistent/anims.js"></script>
    <script defer type="module" src="/public/persistent/header.js"></script>
    <title>Transcendence</title>
  </head>

  <body class="bg-background text-text font-sans">
    <div class="mx-auto flex min-h-screen max-w-5xl flex-col p-4">
      <!-- Header -->
      <div class="mb-8 flex items-center justify-between">
        <a href="/" class="anim-typewriter font-orbitron text-3xl font-black">TRANSCENDENCE</a>

        <div class="animate-slide-left animate-delay-[0.2s]">
          <!-- Login button (shown when not authenticated) -->
          <a id="login" class="hover-skew font-orbitron" href="/login">LOGIN</a>

          <!-- User profile (shown when authenticated) -->
          <div id="profile-container" class="group relative">
            <!-- Profile link -->
            <a href="/profile">
              <span class="sr-only">Profile</span>
              <img
                id="avatar"
                src="https://www.gravatar.com/avatar/?d=mp"
                alt="User Avatar"
                class="size-10 rounded-full"
              />
            </a>

            <!-- Dropdown menu -->
            <div class="absolute top-full right-0 hidden pt-2 group-hover:block">
              <div class="bg-surface size-full w-32 rounded-md shadow-lg *:first:pt-4 *:last:pb-4">
                <button id="logout-btn" class="hover:bg-background/30 block w-full px-4 py-2 text-left text-sm">
                  Logout
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="app" class="flex flex-1 flex-col">
        <!-- pages are injected here by the router -->
      </div>

      <!-- Footer -->
      <footer class="mt-8">
        <p class="text-text-muted text-center text-sm">Â© 2025 TRANSCENDENCE. All rights reserved.</p>
      </footer>
    </div>
  </body>
</html>
