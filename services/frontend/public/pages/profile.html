<script src="/public/pages/profile.js"></script>
<script src="/public/components/pencilIcon.js"></script>

<div class="grid flex-1 place-items-center">
  <div class="animate-slide-up w-full">
    <!-- Header -->
    <div class="border-surface flex items-center gap-4 border-b pb-6">
      <!-- Avatar -->
      <input id="avatar-input" type="file" accept="image/*" class="hidden" />
      <button class="group relative size-16 shrink-0" onclick="document.getElementById('avatar-input').click()">
        <div
          class="bg-background/70 absolute inset-0 grid place-items-center opacity-0 transition group-hover:opacity-100"
        >
          <pencil-icon class="size-6"></pencil-icon>
        </div>
        <user-avatar></user-avatar>
      </button>
      <div>
        <!-- Username -->
        <label for="username" class="sr-only">Username</label>
        <input
          id="username-input"
          name="username-input"
          type="text"
          value="Loading..."
          class="focus:border-primary hover:border-surface w-full rounded-md border-2 border-transparent px-2 py-1 text-2xl font-bold outline-none"
        />
        <!-- Email -->
        <p id="email" class="text-text-muted pl-2 text-sm">Loading...</p>
        <!-- 2FA -->
        <div class="text-text-muted pt-2 pl-2 text-sm">
          Two-Factor Authentication is
          <button id="twofa-btn" class="text-primary font-bold">Loading...</button>
        </div>
      </div>
    </div>

    <!-- Stats -->
    <div class="pt-12">
      <h2 class="font-orbitron text-center text-3xl font-bold">STATS</h2>
      <div class="grid grid-cols-1 gap-8 pt-10 text-center md:grid-cols-4">
        <!-- Total Matches -->
        <div>
          <div class="font-orbitron text-2xl font-bold" id="num-matches">0</div>
          <div class="text-text-muted mt-2 text-sm">Total Matches</div>
        </div>
        <!-- Wins -->
        <div>
          <div class="font-orbitron text-2xl font-bold" id="num-wins">0</div>
          <div class="text-text-muted mt-2 text-sm">Wins</div>
        </div>
        <!-- Win Rate -->
        <div>
          <div class="font-orbitron text-2xl font-bold" id="win-rate">0.0%</div>
          <div class="text-text-muted mt-2 text-sm">Win Rate</div>
        </div>
        <!-- Global Precision -->
        <div>
          <div class="font-orbitron text-2xl font-bold" id="precision">0.0%</div>
          <div class="text-text-muted mt-2 text-sm">Global Precision</div>
        </div>
      </div>
    </div>

    <!-- History -->
    <div class="pt-20">
      <h2 class="font-orbitron text-center text-3xl font-bold">HISTORY</h2>
      <div id="match-history" class="space-y-3 pt-10">
        <!-- Matches will be inserted here -->
        <div class="text-text-muted text-center">No matches yet</div>
      </div>
    </div>
  </div>
</div>
